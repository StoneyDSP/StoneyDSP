<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>StoneyDSP: The StoneyDSP CMake API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">StoneyDSP
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">The StoneyDSP CMake API</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Adapted directly from the <a href="https://raw.githubusercontent.com/juce-framework/JUCE/master/docs/CMake%20API.md">JUCE CMake API</a> until further developed. Please refer to the JUCE CMake API for general queries; we simply provide a few of the same options within our own namespsace, allowing you to customize your configuration to best suit your usage requirements, using an identical interace while not interfering with your project's JUCE configuration.</p>
<h1>System Requirements</h1>
<ul>
<li>All project types require CMake 3.22 or higher.</li>
<li>See JUCE for platform-specific requirements (we adhere to those)</li>
</ul>
<p>Most system package managers have packages for CMake, but we recommend using the most recent release from <a href="https://cmake.org/download">https://cmake.org/download</a>. You should always use a CMake that's newer than your build toolchain, so that CMake can identify your build tools and understand how to invoke them.</p>
<p>In addition to CMake you'll need a build toolchain for your platform, such as Xcode, MSVC, or GNU with either a Makefile generator or Ninja.</p>
<h1>Getting Started</h1>
<h2>Using <code>add_subdirectory</code></h2>
<p>The simplest way to include StoneyDSP in your project is to add StoneyDSP as a subdirectory of your project, and to include the line <code>add_subdirectory(StoneyDSP)</code> in your project CMakeLists.txt. This will make the StoneyDSP targets and helper functions available for use by your custom targets.</p>
<h2>Using <code>find_package</code></h2>
<p>To install StoneyDSP globally on your system, you'll need to tell CMake where to place the installed files. </p><pre class="fragment"># Go to StoneyDSP directory
cd /path/to/clone/StoneyDSP
# Configure build with library components only
cmake -B cmake-build-install -DCMAKE_INSTALL_PREFIX=/path/to/StoneyDSP/install
# Run the installation
cmake --build cmake-build-install --target install
</pre><p> In your project which consumes StoneyDSP, make sure the project CMakeLists.txt contains the line <code>find_package(StoneyDSP CONFIG REQUIRED)</code>. This will make the StoneyDSP modules and CMake helper functions available for use in the rest of your build. Then, run the build like so: </p><pre class="fragment"># Go to project directory
cd /path/to/my/project
# Configure build, passing the StoneyDSP install path you used earlier
cmake -B cmake-build -DCMAKE_PREFIX_PATH=/path/to/StoneyDSP/install
# Build the project
cmake --build cmake-build
</pre> <h2>Example projects</h2>
<p>In the StoneyDSP/examples/CMake directory, you'll find example projects for a GUI app, a console app, and an audio plugin. You can simply copy one of these subdirectories out of the StoneyDSP repo, add StoneyDSP as a submodule, and uncomment the call to <code>add_subdirectory</code> where indicated in the CMakeLists.txt. Alternatively, if you've installed StoneyDSP using a package manager or the CMake install target, you can uncomment the call to <code>find_package</code>.</p>
<p>Once your project is set up, you can generate a build tree for it in the normal way. To get started, you might invoke CMake like this, from the new directory you created. </p><pre class="fragment">cmake -Bbuild (-GgeneratorName) (-DSTONEYDSP_BUILD_EXTRAS=ON) (-DSTONEYDSP_BUILD_EXAMPLES=ON)
</pre><p> This will create a build tree in a directory named 'build', using the CMakeLists in the current working directory, using the default generator (makefiles on mac/linux, and the most recent Visual Studio on Windows). You can choose a specific generator to use with the <code>-G</code> flag (call <code>cmake -G</code> to see a full list of generators on your platform). If you included StoneyDSP as a subdirectory, you can enable the Extras and Examples targets by including the last two arguments (they're off by default). There's currently not a lot of example projects, so generating project files might not take a much longer when these options are on, but you probably won't want to include them most of the time.</p>
<p>Then, to build the project: </p><pre class="fragment">cmake --build build (--target targetNameFromCMakeLists) (--config Release/Debug/...)
</pre><p> This tells cmake to build the target named <code>targetNameFromCMakeLists</code>, in the specified configuration, using the appropriate tool. Of course, if you generated makefiles or ninja files, you could call <code>make</code> or <code>ninja</code> in the build directory. If you generated an IDE project, like an Xcode or Visual Studio project, then you could open the generated project in your IDE.</p>
<h1>API Reference</h1>
<h2>Options</h2>
<p>These flags can be enabled or disabled to change the behaviour of parts of the StoneyDSP build.</p>
<p>These options would normally be configured by either:</p><ul>
<li>Supplying an option in the form <code>-DNAME_OF_OPTION=ON/OFF</code> to the initial CMake configuration call, or</li>
<li>Calling <code>set(NAME_OF_OPTION ON/OFF)</code> before including StoneyDSP in your project via <code>add_subdirectory</code> or <code>find_package</code>.</li>
</ul>
<h3><code>STONEYDSP_BUILD_EXTRAS</code></h3>
<p>This controls whether targets are added for the projects in the 'extras' folder, such as the Icons and Resources targets. This is off by default, because you probably won't need these targets (these are mostly for internal use, but you can see how and what they each do).</p>
<h3><code>STONEYDSP_BUILD_EXAMPLES</code></h3>
<p>This controls whether targets are added for the projects in the 'examples' folder, such as the Biquads Audio Plugin and the Curl Console App. This is off by default, because you probably won't need these targets if you've included StoneyDSP in your own project.</p>
<h3><code>STONEYDSP_MODULES_ONLY</code></h3>
<p>Only brings in targets for the built-in STONEYDSP modules, and the <code>stoneydsp_*</code> CMake functions. This is meant for highly custom use-cases where the <code>juce_add_gui_app</code> and <code>juce_add_plugin</code> functions are not required. Most importantly, the 'stoneyhelper' helper tool is not built when this option is enabled, which may improve build times for established products that use other methods to handle plugin bundle structures, icons, plists, and so on. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
